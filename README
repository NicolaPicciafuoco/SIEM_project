## Commands

- Splunk:
  - *./splunk start*
  - *./splunk stop*
  - *./splunk restart*
- Squid:
  - *`curl -x http://10.10.<2>.210:3128 -I <http://10.10.4.100>`*
- Postgres
  - PGPASSWORD='VeryStr0ngP@ss' psql -h 10.10.4.100 -U siem_user -d siem -c '\dt'

## TODO

- Passo 1
  - Tutto deve passare per il firewall
  - Tutti possono raggiunger il SERVER tramite solo i protocolli controllati da squid (HTTP, HTTPS, FTP)
  - Guest: solo nodi fratelli e Server
  - Management: solo nodi fratelli e Server
  - Ethernet: solo nodi fratelli e Server e solo PINGARE Guest e Management 
  - Internet: solo Server
- Passo 2
  - Ampliare iptables, snort e squid in base alle policy
  - Raffinare le regole in local.rules di snort, in base alle policy. Preparare le rule options. (siamo qui)
  - Finire squid
  - Revisione di IpTables.
  - ...
- Passo 3
  - Definire metrica di valutazione punti per la fiducia (*Splunk?*)
  - Definire il PDP e il PEP
  - Testare
  - Relazione
  - ...

## Commit

### Commit Gabriel 17/04/2025

- Implementazione comunicazione services con alpine al posto di Ubuntu. 
- Firewall pressocchè invariato: le regole sono diverse.
- Comandi eseguiti lato *docker-compose.yaml*: da controllare e poi esportare in *Dockerfile*
- LE RETI GUEST NON HANNO IL NAT_ADMIN E QUINID NON FANNO EFFETTIVAMENTE NIENTE SE NON COMINICASRE DIRETTAMENTE TRA DI LORO
- Rimasto il collegamento diretto al server che deve essere in realtà dopo il firewall (DA CAMBIARE)
- *Ripetizione file init-routes.sh* perchè non ho avvuto voglia di correggere la posizione nei file *Dockerfile* e *docker-compose.yaml*

### Commit Gabriel 19/04/2025

- Pulizia copie di file *init-routes.sh*
- Correzione *server*: ora sta dopo il firewall ad un unico indirizzo

### Commit Gabriel 25/04/2025

- Correzione finale collegamenti tra nets via firewall